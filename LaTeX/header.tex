% Permette di scrivere tutti i caratteri unicode senza formule strane
\usepackage[utf8]{inputenc}
\usepackage{textcomp}
\usepackage{multirow}
\usepackage{float}
%\usepackage[caption = false]{subfig}

%Per andare a capo fra pagine con le tabelle
\usepackage{longtable}

%Per inserire codice
\usepackage{listings}

%Cose di matematica
\usepackage{mathtools}
\usepackage{commath}

%Per fare l'1 bbold della matrice identit√†
\usepackage{bbold}
\usepackage{xcolor}

%Utilissimo per il formalismo della meccanica quantistica, matrici,
%parentesi che si ridimensionano...
\usepackage{physics}

%Ridimensiona i margini
\usepackage[margin=1.8cm]{geometry}

%Etichette per le sotto-immagini
\usepackage{caption}
\usepackage{subcaption}

%Blocchi colorati
\usepackage{mdframed}
\allowdisplaybreaks

%
\numberwithin{equation}{section}
\usepackage[perpage]{footmisc}


\usepackage{cprotect}

\usepackage{tikz-cd}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{graphicx}
%\usepackage[colorinlistoftodos]{todonotes}
\usepackage[colorlinks=true, allcolors=blue, breaklinks=true]{hyperref}
\usepackage{etoolbox}
\appto\UrlBreaks{\do\-}
\usepackage{nameref}
\usepackage[version=4]{mhchem}
\usepackage{siunitx}
\sisetup{separate-uncertainty=true}
\usepackage{cancel}

%%
%Comandi per le frazioni semi-inline
%%

\usepackage{nicefrac}
\usepackage{ifthen}
\let\oldfrac\frac
\renewcommand{\frac}[3][d]{\ifthenelse{\equal{#1}{d}}{\oldfrac{#2}{#3}}{\nicefrac{#2}{#3}}}

%Font bello per la matematica
\usepackage[sc]{mathpazo}
\linespread{1.05}         % Palladio needs more leading (space between lines)
\usepackage[T1]{fontenc}

\usepackage{tocloft}


\newcommand{\diag}[1]{\text{diag}\qty(#1)}
\newcommand{\const}{\text{const}}
\newcommand{\sign}[1]{\text{sign}\qty(#1)}
\renewcommand{\H}{\mathcal{H}}
\renewcommand{\dim}{\text{dim}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\id}{\mathbb{1}}
\newcommand{\Z}{\mathbb{Z}}
\renewcommand{\P}{\mathbb{P}}
\let\Tr\undefined
\DeclareMathOperator*{\Tr}{Tr}
\DeclareMathOperator{\supp}{supp}

\renewcommand{\var}{\text{var}}
\newcommand{\defeq}{\ensuremath{\stackrel{\text{def}}{=}}}

\newcommand\mybox[1]{%
  \fbox{\begin{minipage}{0.9\textwidth}#1\end{minipage}}}

\newtheorem{claim}{Claim}[section]

\newenvironment{greenbox}{\begin{mdframed}[hidealllines=true,backgroundcolor=green!20,innerleftmargin=3pt,innerrightmargin=3pt]}{\end{mdframed}}

\newenvironment{bluebox}{\begin{mdframed}[hidealllines=true,backgroundcolor=blue!10,innerleftmargin=3pt,innerrightmargin=3pt]}{\end{mdframed}}

\newcommand{\hlc}[2]{%
  \colorbox{#1!50}{$\displaystyle#2$}}


%%
% Definizione dello stile per l'inclusione di codice
%%

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2
}

\lstset{style=mystyle}
